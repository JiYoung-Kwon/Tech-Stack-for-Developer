# [JAVA] Primitive type & Reference type

:writing_hand: *Assembled by JiYoung-Kwon (2021-01-31)* 



#### :pushpin: 타입(type)이란?

* 해당 데이터가 메모리에 어떻게 저장되고, 프로그램에서 어떻게 처리되어야 하는지를 명시적으로 알려주는 것
* 자바에서 타입은 크게 **기본형 타입**과 **참조형 타입**이 있음

***



## 1. 기본형 타입(Primitive type)

* 정수, 실수, 문자, 논리 리터럴 등의 **실제 데이터 값을 저장하는 타입**

* 데이터 영역 중 **스택(Stack) 메모리**에 저장됨

* 비객체 타입으로, Null을 가질 수 없는 형태

* 변수가 사용된 메서드가 종료되거나 사용된 객체가 사라질 때 자동으로 파괴됨

* 총 8가지(byte, short, char, int, float, double, boolean)의 기본형 타입을 미리 정의하여 제공함

  | 종류   | 데이터형 | 크기(byte / bit) | 표현 범위                                                    |
  | ------ | -------- | ---------------- | ------------------------------------------------------------ |
  | 논리형 | boolean  | 1 / 8            | true 또는 false                                              |
  | 문자형 | char     | 2 / 16           | '\u0000' ~ 'uFFFF' (16비트 유니코드 문자 데이터)             |
  | 정수형 | byte     | 1 / 8            | -128 ~ 127                                                   |
  | 정수형 | short    | 2 / 16           | -32768 ~ 32767                                               |
  | 정수형 | int      | 4 / 32           | -2147483648 ~ 2147483647( -21억 ~ + 21억)                    |
  | 정수형 | long     | 8 / 64           | -9223372036854775808 ~ 9223372036854775807(-100경 ~ + 100경) |
  | 실수형 | float    | 4 / 32           | 1.4E-45 ~ 3.4028235E38                                       |
  | 실수형 | double   | 8 / 64           | 4.9E-324 ~ 1.7976931348623157E308                            |

<br/>

#### 1-1. 기본형 타입 종류

  **논리형 - boolean**

  - Java가 데이터를 다루는 최소 범위가 1 byte이기 때문에, 낭비적이지만 1 byte를 사용함

  **문자형 - char**

  - Java의 경우 Unicode를 사용함

  - 동양의 글자의 경우 2 byte가 필요하기 때문에, char는 2 byte를 사용함

  - Java에서 유일하게 제공되는 unsigned 형태

    ```
    <unsigned>
    - 음수 없이 0부터 시작하여 양수 값만 가지는 데이터 형태
    ```

  **정수형**

  - 피연산자 스택은 피연산자를 4 byte 단위로 저장하기 때문에 int보다 작은 자료형의 값을 계산시 int 형으로 형변환되서 연산이 수행됨
  - **long**
      - int형 데이터 타입의 범위를 넘어서는 long 데이터 타입의 정수를 사용하고자 할 경우
      - 정수 데이터 맨 뒤 쪽에 접미사 'l' 이나 'L'을 붙여줘야 함
      - 소문자 'l'은 숫자 '1'과 혼돈될 우려가 있으므로 대문자 'L'을 사용하는 것이 좋음

  **실수형**

  - 실수형 데이터 타입에서는 double형 데이터 타입이 기본

* **float**
  * float형 데이터 타입의 실수형 데이터를 사용하고자 하는 경우, long형과 마찬가지로 실수 데이터 맨 뒤 쪽에 접미사 'f'나 'F'를 붙여줘야 함

<br/>

## 2. 참조형 타입(Reference type)

* new키워드를 이용하여 객체를 생성하고 **메모리 번지 값을 통해 객체를 참조하는 타입**

- **String과 배열은** new 없이 생성 가능하지만 **참조타입** 임

데이터 영역 중 **힙(Heap) 메모리**에 저장됨

참조형은 기본적으로 java.lang.Object 를 상속받음

더 이상 참조하는 변수가 없을 때 **가비지 컬렉션**에 의해 파괴됨

참조 타입의 종류에는 Class, Interface, Array, Enumeration이 있음

| 타입                  | 예시                                                   | 기본값 | 할당되는 메모리 크기   |
| --------------------- | ------------------------------------------------------ | ------ | ---------------------- |
| 클래스(Class)         | String str = "test";Student sujin = **new** Student(); | Null   | 4 byte (객체의 주소값) |
| 인터페이스(Interface) | -                                                      | Null   | 4 byte (객체의 주소값) |
| 배열(Array)           | int[] arr = **new** int[5];                            | Null   | 4 byte (객체의 주소값) |
| 열거(Enumeration)     | -                                                      | Null   | 4 byte (객체의 주소값) |

<br/>

#### 2-1. 참조형 타입 종류

**Class Type**

* **String Class**
  * 참조형에 속하지만 기본적인 사용은 **기본형**처럼 사용함
  * 일반적인 기본형 비교는 == 연산자를 사용하지만, string 객체간의 비교는 .equals() 메소드를 사용함

* **Wrapper Class**
  * 기본형에 null을 넣기 위해 활용하는 Class

**Interface Type**

- 인터페이스를 만들게 되면 새로운 참조 자료를 만드는 것과 같음
- 기존에 있는 자료형의 이름도 만들 수 있음
- 그러나, 인터페이스에 정의된 메소드만 사용할 수 있음

**Array Type**

- 배열형은 기본형으로도 만들 수 있고 참조형으로도 만들 수 있음
- 배열형 변수 또한 배열의 주소를 가지고 있는 것이기 때문에, 클래스형의 특징(new)과 일치함

**Enum Type**

- String 클래스와 마찬가지로 불변의 객체
- 코드의 가독성을 높일 수 있음

<br/>

## 3. 기본형 타입 vs 참조형 타입

1. **Null 포함 가능 여부**

   - 기본형 타입은 null을 담을 수 없음

   - 참조형 타입은 가능함

     ```java
     // 불가능
     int i = null;
     
     // 가능
     Integer integer = null; 
     ```

2. **제너릭 타입에서 사용 가능 여부**

   - 기본형 타입은 제너릭 타입에서 사용할 수 없음

   - 참조형 타입은 가능함

     ```java
     // 불가능
     List<i> list;
     
     // 가능
     List<Integer> list;
     ```

     > **제네릭**
     >
     > \- 클래스에서 사용할 타입을 클래스 외부에서 설정하는 것

- **기본형 타입의 장점**

  1. 접근 속도

     - 기본형 타입은 스택 메모리에 값이 존재

     - 반면, 참조형 타입은 스택 메모리에는 참조값만 있고, 실제 값은 힙 메모리에 존재함

       -> 값을 필요로 할 때마다 언박싱 과정을 거쳐야 하므로 접근 속도가 느림

  2. 메모리 양

     - 참조형 타입이 사용하는 메모리 양이 압도적으로 높음

<br/>

## 4. Wrapper Class & Autoboxing

- 기본 타입을 참조 타입으로 바꿔주는 클래스를 랩퍼(wrapper)클래스라고 함

- 기본 타입을 참조 타입으로 바꾸면 데이터를 가공할 수 있는 메서드를 사용할 수 있음

  - ex_) int를 랩퍼 클래스 Integer로 바꾸면 int 값과 편리한 여러 메서드를 같이 쓸 수 있음

- 자바 5부터는 Autoboxing(**Boxing, Unboxing**)을 제공함

  > **Boxing**
  >
  > - **기본 타입을 참조타입으로 변환** 시키는 것
  >
  > **Unboxing**
  >
  > - **참조 타입을 기본 타입으로 변환** 시키는 것
  >
  > => 메모리 누수의 원인이 될 수 있음


## :bulb: 예상질문

Q1 - 기본형 타입과 참조형 타입을 설명해보세요

A1 - 기본형 타입은 실제 데이터 값을 저장하는 타입으로, 데이터 영역 중 스택 메모리에 저장됩니다.  참조형 타입은 new 키워드로 객체를 생성하고 메모리 주소 값을 통해 객체를 참조하는 타입으로, 데이터 영역 중 힙 메모리에 저장됩니다.

<br/>

Q2 - 기본형 타입과 참조형 타입의 차이점이 뭔가요?

A2 - 기본형 타입은 Null을 포함할 수 없고, 제너릭 타입에서 사용할 수 없습니다. 그에 반해 참조형 타입은 Null을 포함할 수 있으며, 제너릭 타입에서도 사용할 수 있습니다.

<br/>

## :page_with_curl: Reference

- [자바의 데이터 타입](https://gbsb.tistory.com/6)
- [원시타입, 참조타입(Primitive Type, Reference Type)](https://velog.io/@gillog/원시타입-참조타입Primitive-Type-Reference-Type)
- [Java의 자료형](https://dev-jangwon.github.io/java/2017/06/26/java-data-type/)
- [Primitive vs Reference](https://beomseok95.tistory.com/220)
- [기본 data type과 참조 data type](http://blog.naver.com/PostView.nhn?blogId=roropoly1&logNo=220649338545&parentCategoryNo=&categoryNo=1&viewDate=&isShowPopularPosts=false&from=postView)
- [제네릭이란?](https://2dubbing.tistory.com/17)