# [JAVA] 상속과 구성

:writing_hand: *Assembled by JiYoung-Kwon (2021-01-26)* 



##### :pushpin: OOP (Object Oriented Programming)에서 발견되는 두 가지 중요한 개념!



## 1. 상속(Inheritance)

* 클래스가 클래스를 확장하여 부모 클래스의 속성과 동작을 상속할 수있는 기능
* 하위 클래스는 상위 클래스의 모든 메소드를 재사용할 수 있고, 재정의를 하여 하위 클래스만의 메소드로 변경할 수도 있음
* 부모 클래스의 멤버를 자식 클래스가 물려받으며 적은 양의 코드로 새로운 클래스 작성 가능
  * 상속을 해주는 부모 클래스 : 상위 클래스(수퍼 클래스)
  * 상속을 받는 자식 클래스 : 하위 클래스(서브 클래스)
* 상속은 OOP에서 **IS-A** 관계를 나타냄
  * 본질적으로 A가 B임을 의미
  * 하위 클래스가 상위 클래스의 진짜 하위 타입인 상황에서 쓰여야 함(순수한 is-a 관계일 때)
  * ex) 와인 클래스를 상속하는 레드 와인 클래스
  * <img src = https://blog.kakaocdn.net/dn/bPkQGI/btqD7HBCkJY/LlPTvBqnV12e0Td6goyaB0/img.gif width =50%>
* 상속 방법 - extends
  * `class 자식 클래스 명 extends 부모 클래스 명{ .. }`

* 자바에서는 자식 클래스가 여러 부모로부터 다중 상속을 받는 것은 불가능
  * 1개의 부모 클래스로부터의 단일 상속만 허용

#### 1-1. 상속의 장점

* 중복된 코드를 줄일 수 있음
* 유지보수가 편리함
* 통일성이 있고, 다형성을 구현할 수 있음

#### 1-2. 상속의 단점

- 상속은 단일 패키지에서 사용해야만 안전하다.
- 하위 클래스는 상위 클래스에 많이 의존하게 된다.
- 상위 클래스의 코드가 수정되면 하위 클래스의 코드도 수정되어야 하는 경우가 많다.(재정의 메소드)
- 확장이라는 목표를 두고 상속을 사용하면 괜찮으나, 해당 설계가 아닌 상황에서 상속을 사용할 시 문제를 발생할 수 있다.
- **상속은 캡슐화를 위반한다.**
  - 하위 클래스가 상위 클래스에 구체적인 구현 내용을 의존하고 있기 때문이다.

<br/>

무분별한 상속은 코드를 복잡하게 만들고 여러가지 문제를 야기할 수 있다.

그럴 때 사용하는 것이 **구성(compositon)**이다.

<br/>

## 2. 구성(Composition)

* 클래스가 다른 클래스의 객체를 멤버 데이터로 포함하는 기능
* 기존의 부모 클래스를 상속 받는 것이 아니라, 클래스의 주소 값을 참조하는 private 필드를 자식 클래스에 만드는 패턴
* 기존 클래스를 확장하는 대신에 새로운 클래스를 만들고 private 필드로 기존 클래스의 인스턴스를 참조하게 하는 것 
* **기존 클래스가 새로운 클래스의 구성요소로 쓰인다!**
* 새로운 클래스의 메서드들은 기존 클래스에서 필요한 메서드를 호출하면 됨
  * 이를 전달(forwarding)이라고 하고 해당 메서드를 전달 메서드라고 함
* 기존 클래스의 세부 구현과 상관없기 때문에 기존 클래스가 수정되어도 영향을 미치지 않음
* 구성은 OOP에서 **HAS-A** 관계를 나타냄
  * 다른 객체를 받아들여서 그 객체의 기능을 사용하는 것
    * ex) 사람이 핸드폰을 사서 그 기능을 사용하는 것
  * 받아들인 객체의 자원(메소드/변수)을 사용할 수 있음
  * 어떤 클래스 A가 다른 클래스 B가 가진 기능을 사용하고 싶을 때, B를 포함하면 B의 기능을 사용할 수 있음
  * <img src = https://blog.kakaocdn.net/dn/HsPN7/btqD7GJshj1/kHBOtdJc74XTzjSY5k9CD1/img.gif width = 50%>

<br/>

## 3. 상속 vs 구성

* 상속과 구성은 두 가지 OOP 개념이지만 프로그래머가 달성 할 수있는 방식은 상당히 다름

* 상속 : 클래스가 클래스를 확장하여 클래스와 속성 및 동작을 상속하는 기능

  * 모든 public 및 private 속성/동작을 상속하며 하위 클래스가 해당 동작을 재정의 할 수 있음

* 구성 : 클래스가 다른 클래스의 객체를 멤버 데이터로 포함하는 기능

  * 클래스가 다른 클래스에 포함 된 경우

  * 컨테이너는 포함 된 동작을 변경하거나 추가 할 수 없음

**상속은 OOP에서 "is-a"관계를 나타내는 반면, 구성은 "has-a"관계를 나타냄**

<br/>

## :page_with_curl: Reference

[[자바 기초]상속과 구성](https://kyky1211.tistory.com/25)

[자바 상속과 구성](https://dlqls12.tistory.com/15)

[[Java 기초] 상속과 구성](https://it-mesung.tistory.com/39)

[상속과 구성](https://sungmin1.tistory.com/35)