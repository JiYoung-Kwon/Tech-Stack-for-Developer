# [DATABASE] RDBMS와 NOSQL 차이

:writing_hand: *Assembled by JiYoung-Kwon (2021-02-05)* 



####  :pushpin: 데이터베이스

* 여러 사람들이 공유하고 사용할 목적으로 통합 관리되는 데이터들의 모임



####  :pushpin: 데이터베이스 관리 시스템 (DBMS)

* Database Management System
* 다수의 사용자들이 데이터베이스 내의 데이터를 접근할 수 있도록 해주는 소프트웨어
* **관계형(RDBMS)과 비관계형(NoSQL)** 으로 나뉨

<br/>

## 1. RDBMS

* Relational Database Management System
* 관계형 데이터베이스(RDB)를 생성하고 수정, 삭제 관리할 수 있는 소프트웨어
  * **RDB(Relational Database)**
    * 관계형 데이터 모델에 기초를 둔 데이터베이스
    * 관계형 데이터 모델 : 데이터를 구성하는데 필요한 방법 중 하나로 모든 데이터를 2차원 테이블 형태로 표현함
    * ![img](https://t1.daumcdn.net/cfile/tistory/99A0AE4C5BE53BBB0C)
* SQL을 사용하여 RDBMS에서 데이터를 검색, 저장, 수정, 삭제 등이 가능
  * **SQL** (Structured Query Language) : 데이터베이스에서 사용하는 쿼리 언어

<br/>

#### 1-1. 특징

- Data를 Column과 Row형태로 저장함
- 데이터의 분류, 정렬, 탐색 속도가 비교적 빠름
- SQL이라는 정교한 검색 query를 통해 데이터를 다룸
- Transaction을 제공함 (작업의 완전성을 보장)
- 반드시 Schema 규격에 맞춰야 함 (유연한 데이터 저장 X)
  - 스키마(Schema)
    - 데이터베이스를 구성하는 데이터 개체(Entity), 속성(Attribute), 관계(Relationship) 및 데이터 조작 시 데이터 값들이 갖는 제약 조건 등에 관해 전반적으로 정의함
    - 데이터베이스에서 자료의 구조, 자료의 표현 방법, 자료 간의 관계를 형식 언어로 정의한 구조
    - 데이터베이스 관리 시스템(DBMS)이 주어진 설정에 따라 데이터베이스 스키마를 생성
    - 데이터베이스 사용자가 자료를 CRUD할 때, DBMS는 자신이 생성한 데이터베이스 스키마를 참조하여 명령을 수행함
- 부하의 분산이 어려움
- ex) MySQL, SQLite 등 ...

<br/>

#### 1-2. 장점

* 정해진 스키마에 따라 데이터를 저장하여야 하기 때문에 명확한 데이터 구조를 보장함
* 하나의 테이블에서 중복없이 하나의 데이터만을 관리하기 때문에 부정확한 데이터를 다룰 위험이 없음

* 각 데이터에 맞게 테이블을 나누어 데이터 중복을 피해 데이터 공간을 절약할 수 있음

<br/>

#### 1-3. 단점

* Oracle 같은 시스템을 사용하게 될 경우 비용적으로 부담이 될 수 있음
* RDBMS 관계로 인한 시스템 복잡도를 고려하여 구조화를 해야 함
* 시스템이 복잡해 질수록 Query문이 복잡해지고 성능이 저하됨
* 수평적 확장이 어려워 수직적 확장을 대부분 하기 때문에 한계에 직면할 수 있음
  * **수직적 확장**
    
    * 기존의 서버를 더 좋은 H/W로 바꾸는 방법(scale up)
      * ex) RAM 또는 CPU를 더 추가하여 기존 서버의 H/W 업그레이드
    
  * **수평적 확장**
    
    *  기존에 사용하던 서버 외에 서버를 추가하여 성능을 높이는 방법(scale out)
    *  부하를 분산하고 더 많은 트래픽, 더 빠른 처리를 하기 위해, 기존 스택에 더 많은 머신을 추가하는 것
    
  * **수평적 확장이 어려운 이유**

    * 관계형 모델이 일관성을 보장하도록 설계되어 있기 때문

      * 즉, 동일한 데이터베이스를 쿼리하는 클라이언트는 항상 최신의 데이터를 보게 해야함

    * 관계형 데이터 베이스를 수평으로 확장하는 경우

      * 클라이언트가 A노드가 아닌 B노드에 데이터를 쓸 수 있음

        -> 처음 쓴 B노드와 다른 노드들이 연결되는 시간이 존재함

        -> 변경 사항이 반영되는 업데이트 지연이 발생할 수 있음

        -> **일관성을 보장하기 어려워짐**

<br/>

#### 1-4. 사용하는 경우

* 관계를 맺고 있는 데이터가 자주 변경(수정)되는 애플리케이션일 경우

  * NoSQL에서라면 여러 컬렉션을 모두 수정해줘야만 함

* 변경될 여지가 없고, 명확한 스키마가 사용자와 데이터에게 중요한 경우

<br/>

## 2. NOSQL

* Not Only SQL, Non relational Database
* SQL 질의문을 사용하지 않음
* 관계형 데이터베이스와 반대되는 방식을 사용하여 데이터 간의 관계를 정의하지 않음
  * 스키마와 관계라는 개념이 없음
* NOSQL은 스키마가 없어 좀 더 자유롭게 데이터를 관리할 수 있음
  * RDBMS에서는 스키마에 맞추어 데이터를 관리하여야 함
* NOSQL에서 테이블과 같은 개념으로 **컬렉션** 이라는 형태로 데이터를 관리함
* 가장 많이 쓰이는 NOSQL 방식 : **Key-Value** 방식으로 데이터를 관리
* 분산 컴퓨팅 활용이 목적
* ![img](https://t1.daumcdn.net/cfile/tistory/99E87A465BE53CC603)

<br/>

#### 2-1. 특징

* 데이터 간의 관계를 정의하지 않음
  * Table간의 join도 불가능
* RDBMS의 복잡도와 용량 한계를 극복하기 위한 목적으로 등장한 만큼, RDBMS에 비해 훨씬 더 대용량의 데이터를 저장할 수 있음
* 분산형 구조 - 데이터를 여러 대의 서버에 분산해 저장
* 고정되지 않은 Table Schema (Schema가 없어 다루기 쉬움)
* Key에 대한 put/get 만 지원함
* Schema가 없다보니 Data에 대한 규격화된 결과 값을 얻기 힘듦
* ex) MongoDB, Cassand, Redis 등 ...

<br/>

#### 2-2. 장점

* 정해진 스키마에 따라 저장해야 하는 RDBMS 보다 자유롭게 데이터 추가가 가능

* 복잡한 테이블간의 관계를 형성하는 형태의 구조를 신경쓰지 않아도됨 

  * ex) 조인 등 복잡한 SQL구문으로 인한 문제

* 필요한 데이터가 보통 하나의 컬렉션에 있으며, 이는 자주 변경되지 않는 데이터에 큰 장점이 있음
* 수평적 확장이 어려운 RDBMS보다는 수평적 확장이 쉬움
* 분산처리 목적으로 나왔기 때문에 프레임워크에서 분산처리 기능을 포함하고 있음

<br/>

#### 2-3. 단점

* 자유롭게 데이터가 추가가 가능하기 때문에 컬렉션에 중복된 데이터가 저장될 수 있음
* 데이터 업데이트 시 중복되어 저장되어있는 데이터를 똑같이 관리(업데이트)해 주어야 함

<br/>

#### 2-4. 사용하는 경우

* 정확한 데이터 구조를 알 수 없거나 변경 / 확장 될 수 있는 경우

* 읽기(read)처리를 자주하지만, 데이터를 자주 변경(update)하지 않는 경우 
  * 즉, 한번의 변경으로 수십 개의 문서를 업데이트 할 필요가 없는 경우
* 데이터베이스를 수평으로 확장해야 하는 경우
  * 즉, 막대한 양의 데이터를 다뤄야 하는 경우

<br/>

## :page_with_curl: Reference

[RDBMS NOSQl 차이](https://velog.io/@wlsgh46/RDBMS-NOSQl-%EC%B0%A8%EC%9D%B4)

[RDBMS NOSQL 차이](https://kimsangyeon.github.io/sql/nosql/database/2019/08/16/rdbms-nosql.html)

[[기본 지식] NoSQL과 RDBMS 차이](https://m.blog.naver.com/jaeyoon_95/222057565334)

[RDB, NoSQL, In-Memory DB 비교](https://toma0912.tistory.com/83)