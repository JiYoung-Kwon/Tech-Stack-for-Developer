# [SW] TDD

:writing_hand: *Assembled by JiYoung-Kwon (2021-01-09)* 



## 1. TDD(Test-Driven Development)란?

- 테스트 주도 개발 : **테스트가 개발을 이끌어 나간다.**

- 소프트웨어 개발 방법론 중 하나로, 매우 짧은 개발 사이클을 반복하는 방법

- 애자일 방법론 중 하나인 `eXtream Programming(XP)`의 **Test-First** 개념에 기반을 둔 단순한 설계를 중요시함

  > **eXtream Programming(XP)**
  >
  > * 미래에 대한 예측을 최대한 하지 않고, 지속적으로 프로토타입을 완성하는 애자일 방법론 중 하나
  > * 추가 요구사항이 생기더라도, 실시간으로 반영 가능


#### 1-1. TDD는 어떤 상황에서 해야할까?

* TDD를 하지 않는 상황

  > * 어떤 부분에 대한 코딩을 여러번 해봤고 결과가 어떻게 나올지 뻔하다면
  > * TDD를 했을 때 얻는 것이 적다면

* TDD를 해야 하는 상황

  > 1. 처음 해보는 프로그램 주제
  > 2. 고객의 요구조건이 바뀔수 있는 프로젝트
  > 3. 개발하는 중에 코드를 많이 바꿔야 된다고 생각하는 경우
  > 4. 개발 후 이 코드를 누가 유지보수할 지 모르는 경우
  >
  > ※ **즉, 불확실성이 높을 때!!**

#### 1-2. TDD 프로세스

- 테스트 케이스 작성 후, 그 케이스를 통과하기 위한 최소한의 코드 생성

- 이를 반복하며 제대로 동작하는 지에 대한 피드백을 적극적으로 받는 것

  ![tdd_process](https://user-images.githubusercontent.com/61674527/103727080-b2dc7c80-501d-11eb-9094-ab0c2021f0d9.jpg)

  

## 2. TDD 개발주기

![tdd_rgr](https://user-images.githubusercontent.com/61674527/103727097-c1c32f00-501d-11eb-9ef2-2133689fc23a.jpg)

- **Red단계** : <u>실패하는 테스트 코드</u>를 먼저 작성
- **Green단계** : <u>테스트 코드를 성공시키기 위한 실제 코드</u>를 작성
- **Yellow단계** : 중복 코드 제커, 일반화 등의 <u>리팩토링</u>을 수행



## 3. 일반 개발 방식과의 차이

- 보통의 개발 방식 :  '요구사항 분석 -> 설계 -> 개발 -> 테스트 -> 배포'의 형태

  > 소프트웨어 개발을 느리게 하는 잠재적 위험 존재
  >
  > * 고객의 요구사항은 처음부터 명확하지 않을 수 있음 -> 처음부터 완벽한 설계는 어렵다.
  > * 재설계 시 코드를 삽입, 수정, 삭제하는 과정에서 불필요한 코드가 남거나 중복될 가능성이 있음 -> 유지보수를 어렵게 한다.

  ![img](https://blog.kakaocdn.net/dn/cXoUol/btqBWrI2z2l/ezsoBHstfTXgZfzGKQzOwK/img.png)

  

- TDD 개발방식 : '선 테스트 후 코드 작성'

  > * 테스트 도중 예외사항을 테스트 케이스에 추가, 설계 개선
  >
  > * 이후 테스트가 통과된 코드만을 개발 단계에서 실제 코드로 작성
  >
  >   -> 버그가 적고, 간결하다.

![img](https://blog.kakaocdn.net/dn/n7tzF/btqBYtFtylr/PNz12MTxKTiEblbhdCCDKK/img.png)



## 4. 장ㆍ단점

#### 4-1. 장점 

- **객체지향적인 코드 개발 **

  - TDD는 코드의 재사용 보장을 명시함

  - 개발 시 기능 별 철저한 모듈화가 이루어짐

    - 테스트의 용이성을 위해 복잡한 기능을 한 함수에 모두 구현 할 경우 테스트 방식이 복잡해지고 시간이 오래 걸리며, 코드 수정이 되는 경우 테스트 코드를 재사용 할 수 없게 됨
  
    +) 재사용성은 **유지보수의 용이성**도 가져옴
  
- **설계 수정 시간의 단축**

  * *"결함은 일찍 찾을수록 고치는 비용이 적게 든다."* 
  * 테스트 코드를 먼저 작성하기 때문에 최초 설계안을 만족시키며 입출력 구조와 기능의 정의를 명확히 하게 되므로 설계의 구조적 문제를 바로 찾아내게 됨 
  * 미리 테스트 시나리오를 작성 -> 예외 코드 작성 용이

- **디버깅 시간의 단축** 

  - 단위 테스트 기반의 테스트 코드를 작성
  - 모듈 별 테스트 진행 시, 영역의 분할을 통해 문제점을 쉽게 찾아낼 수 있음

- **추가 구현의 용이함** 

  - 개발이 완료된 소프트웨어에 어떤 기능을 추가할 때 가장 우려되는 점은 해당 기능이 기존 코드에 어떤 영향을 미칠지 알지 못한다는 것이다. 하지만 TDD의 경우 자동화된 유닛 테스팅을 전제하므로 테스트 기간을 획기적으로 단축시킬 수 있다.

- **테스트 문서의 대체 가능** 

  - 테스팅을 자동화 시킴과 동시에 보다 정확한 테스트 근거를 산출 할 수 있음

#### 4-2. 단점

* **생산성의 저하** 

  * 중간중간 테스트를 하면서 고쳐나가야 함

    -> 일반적인 개발 방식에 비해 대략 **10~30%가 늘어남**



## :page_with_curl: Reference

[TDD(Test-Driven-Development) 소개](https://m.blog.naver.com/suresofttech/221569611618)

[[기술면접] TDD(Test-Driven-Development) 방법론에 대해서](https://wooaoe.tistory.com/33)

[[Agile] TDD(테스트 주도 개발)란](https://gmlwjd9405.github.io/2018/06/03/agile-tdd.html)




